---
title: ç®—æ³•è§£é¢˜å¥—è·¯æ¡†æ¶
author: Se7en
categories:
  - Algorithm
tags:
  - Algorithm
---

# ç®—æ³•è§£é¢˜å¥—è·¯æ¡†æ¶

## äºŒåˆ†æŸ¥æ‰¾

### æ¨¡æ¿

- 1.åˆ†æäºŒåˆ†æŸ¥æ‰¾ä»£ç æ—¶ï¼Œä¸è¦å‡ºç° elseï¼Œå…¨éƒ¨å±•å¼€æˆ else if æ–¹ä¾¿ç†è§£ã€‚æŠŠé€»è¾‘å†™å¯¹ä¹‹åå†åˆå¹¶åˆ†æ”¯ï¼Œæå‡è¿è¡Œæ•ˆç‡ã€‚
- 2.æ³¨æ„ã€Œæœç´¢åŒºé—´ã€å’Œ while çš„ç»ˆæ­¢æ¡ä»¶ï¼Œå¦‚æœå­˜åœ¨æ¼æ‰çš„å…ƒç´ ï¼Œè®°å¾—åœ¨æœ€åæ£€æŸ¥ã€‚
- 3.å¦‚æœå°†ã€Œæœç´¢åŒºé—´ã€å…¨éƒ½ç»Ÿä¸€æˆä¸¤ç«¯éƒ½é—­ï¼Œå¥½è®°ï¼Œåªè¦ç¨æ”¹ nums[mid] == target æ¡ä»¶å¤„çš„ä»£ç å’Œè¿”å›çš„é€»è¾‘å³å¯ï¼Œæ¨èæ‹¿å°æœ¬æœ¬è®°ä¸‹ï¼Œä½œä¸ºäºŒåˆ†æœç´¢æ¨¡æ¿ã€‚

```go
// åŸºæœ¬äºŒåˆ†æŸ¥æ‰¾
func binarySearch(nums []int, target int) int {
    left, right := 0, len(nums)-1
    for left <= right {
        mid := left + (right - left) / 2
        if nums[mid] < target {
            left = mid + 1
        } else if nums[mid] > target {
            right = mid - 1
        } else if nums[mid] == target {
            // ç›´æ¥è¿”å›
            return mid
        }
    }
    // ç›´æ¥è¿”å›
    return -1
}

// å¯»æ‰¾å·¦è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾
func leftBound(nums []int, target int) int {
    left, right := 0, len(nums)-1
    for left <= right {
        mid := left + (right - left) / 2
        if nums[mid] < target {
            left = mid + 1
        } else if nums[mid] > target {
            right = mid - 1
        } else if nums[mid] == target {
            // åˆ«è¿”å›ï¼Œé”å®šå·¦ä¾§è¾¹ç•Œ
            right = mid - 1
        }
    }
    // åˆ¤æ–­ target æ˜¯å¦å­˜åœ¨äº nums ä¸­
    if left < 0 || left >= len(nums) {
        return -1
    }
    // åˆ¤æ–­ä¸€ä¸‹ nums[left] æ˜¯ä¸æ˜¯ target
    if nums[left] == target {
        return left
    }
    return -1
}

// å¯»æ‰¾å³è¾¹ç•Œçš„äºŒåˆ†æŸ¥æ‰¾
func rightBound(nums []int, target int) int {
    left, right := 0, len(nums)-1
    for left <= right {
        mid := left + (right - left) / 2
        if nums[mid] < target {
            left = mid + 1
        } else if nums[mid] > target {
            right = mid - 1
        } else if nums[mid] == target {
            // åˆ«è¿”å›ï¼Œé”å®šå³ä¾§è¾¹ç•Œ
            left = mid + 1
        }
    }
    
    if right < 0 || right >= len(nums) {
        return -1
    }
    if nums[right] == target {
        return right
    }
    return -1
}
```

## æ»‘åŠ¨çª—å£ç®—æ³•

æ»‘åŠ¨çª—å£ç®—æ³•æŠ€å·§ä¸»è¦ç”¨æ¥è§£å†³å­æ•°ç»„é—®é¢˜ï¼Œæ¯”å¦‚è®©ä½ å¯»æ‰¾ç¬¦åˆæŸä¸ªæ¡ä»¶çš„æœ€é•¿/æœ€çŸ­å­æ•°ç»„ã€‚

### æ¨¡æ¿

æ¡†æ¶ä¸­ä¸¤å¤„ `...` è¡¨ç¤ºçš„æ›´æ–°çª—å£æ•°æ®çš„åœ°æ–¹ï¼Œåœ¨å…·ä½“çš„é¢˜ç›®ä¸­ï¼Œä½ éœ€è¦åšçš„å°±æ˜¯å¾€è¿™é‡Œé¢å¡«ä»£ç é€»è¾‘ã€‚è€Œä¸”ï¼Œè¿™ä¸¤ä¸ª `...` å¤„çš„æ“ä½œåˆ†åˆ«æ˜¯æ‰©å¤§å’Œç¼©å°çª—å£çš„æ›´æ–°æ“ä½œï¼Œç­‰ä¼šä½ ä¼šå‘ç°å®ƒä»¬æ“ä½œæ˜¯å®Œå…¨å¯¹ç§°çš„ã€‚


```go
// æ»‘åŠ¨çª—å£ç®—æ³•ä¼ªç æ¡†æ¶
func slidingWindow(s string) {
    // ç”¨åˆé€‚çš„æ•°æ®ç»“æ„è®°å½•çª—å£ä¸­çš„æ•°æ®ï¼Œæ ¹æ®å…·ä½“åœºæ™¯å˜é€š
    // æ¯”å¦‚è¯´ï¼Œæˆ‘æƒ³è®°å½•çª—å£ä¸­å…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œå°±ç”¨ map
    // å¦‚æœæˆ‘æƒ³è®°å½•çª—å£ä¸­çš„å…ƒç´ å’Œï¼Œå°±å¯ä»¥åªç”¨ä¸€ä¸ª int
    var window = ...

    left, right := 0, 0
    for right < len(s) {
        // c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦
        c := s[right]
        window[c]++
        // å¢å¤§çª—å£
        right++
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        ...

        // *** debug è¾“å‡ºçš„ä½ç½® ***
        // æ³¨æ„åœ¨æœ€ç»ˆçš„è§£æ³•ä»£ç ä¸­ä¸è¦ print
        // å› ä¸º IO æ“ä½œå¾ˆè€—æ—¶ï¼Œå¯èƒ½å¯¼è‡´è¶…æ—¶
        fmt.Println("window: [",left,", ",right,")")
        // ***********************

        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        for left < right && window needs shrink { //replace "window needs shrink" with actual condition
            // d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦
            d := s[left]
            window[d]--
            // ç¼©å°çª—å£
            left++
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            ...
        }
    }
}
```

### ä¾‹é¢˜

| åŠ›æ‰£ | éš¾åº¦ |
|------|------|
| [438.æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/description/) | ğŸŸ¡ |
| [567.å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode.cn/problems/permutation-in-string/description/) | ğŸŸ¡ |
| [3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/description/) | ğŸŸ¡ |
| [76.æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/description/) | ğŸ”´ |

#### 76.æœ€å°è¦†ç›–å­ä¸²

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sã€ä¸€ä¸ªå­—ç¬¦ä¸² tã€‚è¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² ""ã€‚

æ³¨æ„ï¼š

- å¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚
- å¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚
 
ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šs = "ADOBECODEBANC", t = "ABC"
è¾“å‡ºï¼š"BANC"
è§£é‡Šï¼šæœ€å°è¦†ç›–å­ä¸² "BANC" åŒ…å«æ¥è‡ªå­—ç¬¦ä¸² t çš„ 'A'ã€'B' å’Œ 'C'ã€‚
```


```go
func minWindow(s string, t string) string {
    // need è®°å½•ç›®æ ‡å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°
    // window è®°å½•æ»‘åŠ¨çª—å£ä¸­ç›¸åº”å­—ç¬¦å‡ºç°çš„æ¬¡æ•°
    need, window := make(map[byte]int), make(map[byte]int)
    for i := range t {
        need[t[i]]++
    }

    left, right := 0, 0
    valid := 0
    // è®°å½•æœ€å°è¦†ç›–å­ä¸²çš„èµ·å§‹ç´¢å¼•åŠé•¿åº¦
    start, length := 0, math.MaxInt32
    for right < len(s) {
        // c æ˜¯å°†ç§»å…¥çª—å£çš„å­—ç¬¦
        c := s[right]
        // æ‰©å¤§çª—å£
        right++
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
        if _, ok := need[c]; ok {
            window[c]++
            if window[c] == need[c] {
                valid++
            }
        }

        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        for valid == len(need) {
            // åœ¨è¿™é‡Œæ›´æ–°æœ€å°è¦†ç›–å­ä¸²
            if right - left < length {
                start = left
                length = right - left
            }
            // d æ˜¯å°†ç§»å‡ºçª—å£çš„å­—ç¬¦
            d := s[left]
            // ç¼©å°çª—å£
            left++
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
            if _, ok := need[d]; ok {
                if window[d] == need[d] {
                    valid--
                }
                window[d]--
            }
        }
    }
    // è¿”å›æœ€å°è¦†ç›–å­ä¸²
    if length == math.MaxInt32 {
        return ""
    }
    return s[start : start+length]
}
```

#### 567.å­—ç¬¦ä¸²çš„æ’åˆ—

ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² s1 å’Œ s2 ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ s2 æ˜¯å¦åŒ…å« s1 çš„æ’åˆ—ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› trueï¼›å¦åˆ™ï¼Œè¿”å› falseã€‚

æ¢å¥è¯è¯´ï¼Œs1 çš„æ’åˆ—ä¹‹ä¸€æ˜¯ s2 çš„å­ä¸² ã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šs1 = "ab" s2 = "eidbaooo"
è¾“å‡ºï¼štrue
è§£é‡Šï¼šs2 åŒ…å« s1 çš„æ’åˆ—ä¹‹ä¸€ ("ba").
```

ç¤ºä¾‹ 2ï¼š

```go
è¾“å…¥ï¼šs1= "ab" s2 = "eidboaoo"
è¾“å‡ºï¼šfalse
```

æç¤ºï¼š

- 1 <= s1.length, s2.length <= 104
- s1 å’Œ s2 ä»…åŒ…å«å°å†™å­—æ¯

è¿™ç§é¢˜ç›®ï¼Œæ˜¯æ˜æ˜¾çš„æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œç›¸å½“ç»™ä½ ä¸€ä¸ª s å’Œä¸€ä¸ª tï¼Œè¯·é—®ä½  s ä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå­ä¸²ï¼ŒåŒ…å« t ä¸­æ‰€æœ‰å­—ç¬¦ä¸”ä¸åŒ…å«å…¶ä»–å­—ç¬¦ã€‚

```go
// åˆ¤æ–­ s ä¸­æ˜¯å¦å­˜åœ¨ t çš„æ’åˆ—
func checkInclusion(t string, s string) bool {
	need := make(map[byte]int)
	window := make(map[byte]int)

	for c := range t {
		need[t[c]]++
	}

	left, right := 0, 0
	valid := 0
	for right < len(s) {
		c := s[right]
		right++
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
		if _, ok := need[c]; ok {
			window[c]++
			if window[c] == need[c] {
				valid++
			}
		}

        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        // çª—å£é•¿åº¦ç­‰äº t æ—¶ï¼Œå·¦ä¾§æŒ‡é’ˆ left ä¼šæ”¶ç¼©çª—å£ï¼Œä¿è¯çª—å£ä¸­æ²¡æœ‰å¤šä½™å­—ç¬¦
		for right-left == len(t) {
            // åœ¨è¿™é‡Œåˆ¤æ–­æ˜¯å¦æ‰¾åˆ°äº†åˆæ³•çš„å­ä¸²
			if valid == len(need) {
				return true
			}
			d := s[left]
			left++
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
			if _, ok := need[d]; ok {
				if window[d] == need[d] {
					valid--
				}
				window[d]--
			}
		}
	}
    // æœªæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å­ä¸²
	return false
}
```

#### 438.æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰ p çš„å¼‚ä½è¯çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

ç¤ºä¾‹ 1:

```go
è¾“å…¥: s = "cbaebabacd", p = "abc"
è¾“å‡º: [0,6]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
```

è¿™ä¸ªæ‰€è°“çš„å­—æ¯å¼‚ä½è¯ï¼Œä¸å°±æ˜¯æ’åˆ—å—ï¼Œæä¸ªé«˜ç«¯çš„è¯´æ³•å°±èƒ½ç³Šå¼„äººäº†å—ï¼Ÿç›¸å½“äºï¼Œè¾“å…¥ä¸€ä¸ªä¸² sï¼Œä¸€ä¸ªä¸² pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰ p çš„æ’åˆ—ï¼Œè¿”å›å®ƒä»¬çš„èµ·å§‹ç´¢å¼•ã€‚

```go
func findAnagrams(s string, p string) []int {
    // è®°å½•ç»“æœ
	ans := []int{}
	need := make(map[byte]int)
	window := make(map[byte]int)

	for i := range p {
		need[p[i]]++
	}

	left, right := 0, 0
	valid := 0

	for right < len(s) {
		c := s[right]
		right++
        // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
		if _, ok := need[c]; ok {
			window[c]++
			if window[c] == need[c] {
				valid++
			}
		}

        // åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
        // ä¿è¯çª—å£é•¿åº¦å§‹ç»ˆå’Œ p çš„é•¿åº¦ä¸€è‡´
		for right-left == len(p) {
            // å½“çª—å£ç¬¦åˆæ¡ä»¶æ—¶ï¼ŒæŠŠèµ·å§‹ç´¢å¼•åŠ å…¥ res
			if valid == len(need) {
				ans = append(ans, left)
			}

			d := s[left]
			left++
            // è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
			if _, ok := need[d]; ok {
				if window[d] == need[d] {
					valid--
				}
				window[d]--
			}
		}
	}
	return ans
}
```

#### 4.æœ€é•¿æ— é‡å¤å­ä¸²

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚

ç¤ºä¾‹ 1:

```go
è¾“å…¥: s = "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
```

è¿™ä¸ªé¢˜ç»ˆäºæœ‰äº†ç‚¹æ–°æ„ï¼Œä¸æ˜¯ä¸€å¥—æ¡†æ¶å°±å‡ºç­”æ¡ˆï¼Œä¸è¿‡åè€Œæ›´ç®€å•äº†ï¼Œç¨å¾®æ”¹ä¸€æ”¹æ¡†æ¶å°±è¡Œäº†ï¼š
- è¿™å°±æ˜¯å˜ç®€å•äº†ï¼Œè¿ need å’Œ valid éƒ½ä¸éœ€è¦ï¼Œè€Œä¸”æ›´æ–°çª—å£å†…æ•°æ®ä¹Ÿåªéœ€è¦ç®€å•çš„æ›´æ–°è®¡æ•°å™¨ window å³å¯ã€‚
- å½“ window[c] å€¼å¤§äº 1 æ—¶ï¼Œè¯´æ˜çª—å£ä¸­å­˜åœ¨é‡å¤å­—ç¬¦ï¼Œä¸ç¬¦åˆæ¡ä»¶ï¼Œå°±è¯¥ç§»åŠ¨ left ç¼©å°çª—å£äº†å˜›ã€‚

```go
func lengthOfLongestSubstring(s string) int {
	window := make(map[byte]int)
	left, right := 0, 0
	// è®°å½•ç»“æœ
	res := 0

	for right < len(s) {
		c := s[right]
		right++
		// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
		window[c] = window[c] + 1

		// åˆ¤æ–­å·¦ä¾§çª—å£æ˜¯å¦è¦æ”¶ç¼©
		for window[c] > 1 {
			d := s[left]
			left++

			// è¿›è¡Œçª—å£å†…æ•°æ®çš„ä¸€ç³»åˆ—æ›´æ–°
			window[d] = window[d] - 1
		}

		// åœ¨è¿™é‡Œæ›´æ–°ç­”æ¡ˆ
		if res < right-left {
			res = right - left
		}
	}
	return res
}
```

## å›æº¯

### æ¨¡æ¿

æ— è®ºæ˜¯æ’åˆ—ã€ç»„åˆè¿˜æ˜¯å­é›†é—®é¢˜ï¼Œç®€å•è¯´æ— éå°±æ˜¯è®©ä½ ä»åºåˆ— nums ä¸­ä»¥ç»™å®šè§„åˆ™å–è‹¥å¹²å…ƒç´ ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§å˜ä½“ï¼š

- **1.å…ƒç´ æ— é‡ä¸å¯å¤é€‰**ï¼Œå³ nums ä¸­çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šåªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡ï¼Œè¿™ä¹Ÿæ˜¯æœ€åŸºæœ¬çš„å½¢å¼ã€‚ä»¥ç»„åˆä¸ºä¾‹ï¼Œå¦‚æœè¾“å…¥ nums = [2,3,6,7]ï¼Œå’Œä¸º 7 çš„ç»„åˆåº”è¯¥åªæœ‰ [7]ã€‚

```go
// ç»„åˆ/å­é›†é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶ 
func backtrack(nums []int, start int) {
    // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶ 
    for i := start; i < len(nums); i++ {
        // åšé€‰æ‹©
        track = append(track, nums[i])
        // æ³¨æ„å‚æ•° 
        backtrack(nums, i+1)
        // æ’¤é”€é€‰æ‹© 
        track = track[:len(track)-1]
    }
}

// æ’åˆ—é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶
func backtrack(nums []int) {
    for i := 0; i < len(nums); i++ {
        // å‰ªæé€»è¾‘ 
        if used[i] {
            continue
        }
        // åšé€‰æ‹© 
        used[i] = true
        track = append(track, nums[i])

        backtrack(nums)
        // æ’¤é”€é€‰æ‹© 
        track = track[:len(track)-1]
        used[i] = false
    }
}
```

- **2.å…ƒç´ å¯é‡ä¸å¯å¤é€‰**ï¼Œå³ nums ä¸­çš„å…ƒç´ å¯ä»¥å­˜åœ¨é‡å¤ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šåªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡ã€‚ä»¥ç»„åˆä¸ºä¾‹ï¼Œå¦‚æœè¾“å…¥ nums = [2,5,2,1,2]ï¼Œå’Œä¸º 7 çš„ç»„åˆåº”è¯¥æœ‰ä¸¤ç§ [2,2,2,1] å’Œ [5,2]ã€‚

```go
sort.Ints(nums)
// ç»„åˆ/å­é›†é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶
func backtrack(nums []int, start int) {
    // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
    for i := start; i < len(nums); i++ {
        // å‰ªæé€»è¾‘ï¼Œè·³è¿‡å€¼ç›¸åŒçš„ç›¸é‚»æ ‘æ
        if i > start && nums[i] == nums[i-1] {
            continue
        }
        // åšé€‰æ‹©
        track = append(track, nums[i])
        // æ³¨æ„å‚æ•°
        backtrack(nums, i+1)
        // æ’¤é”€é€‰æ‹©
        track = track[:len(track)-1]
    }
}


sort.Ints(nums)
// æ’åˆ—é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶
func backtrack(nums []int) {
    for i := 0; i < len(nums); i++ {
        // å‰ªæé€»è¾‘
        if used[i] {
            continue
        }
        // å‰ªæé€»è¾‘ï¼Œå›ºå®šç›¸åŒçš„å…ƒç´ åœ¨æ’åˆ—ä¸­çš„ç›¸å¯¹ä½ç½®
        if i > 0 && nums[i] == nums[i-1] && !used[i-1] {
            continue
        }
        // åšé€‰æ‹©
        used[i] = true
        track = append(track, nums[i])

        backtrack(nums)

        // æ’¤é”€é€‰æ‹©
        track = track[:len(track)-1]
        used[i] = false
    }
}
```

- **3.å…ƒç´ æ— é‡å¯å¤é€‰**ï¼Œå³ nums ä¸­çš„å…ƒç´ éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ¯ä¸ªå…ƒç´ å¯ä»¥è¢«ä½¿ç”¨è‹¥å¹²æ¬¡ã€‚ä»¥ç»„åˆä¸ºä¾‹ï¼Œå¦‚æœè¾“å…¥ nums = [2,3,6,7]ï¼Œå’Œä¸º 7 çš„ç»„åˆåº”è¯¥æœ‰ä¸¤ç§ [2,2,3] å’Œ [7]ã€‚

```go
// ç»„åˆ/å­é›†é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶
func backtrack(nums []int, start int) {
    // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
    for i := start; i < len(nums); i++ {
        // åšé€‰æ‹©
        track = append(track, nums[i])
        // æ³¨æ„å‚æ•°
        backtrack(nums, i)
        // æ’¤é”€é€‰æ‹©
        track = track[:len(track)-1]
    }
}

// æ’åˆ—é—®é¢˜å›æº¯ç®—æ³•æ¡†æ¶
func backtrack(nums []int) {
    for i := 0; i < len(nums); i++ {
        // åšé€‰æ‹©
        track = append(track, nums[i])
        backtrack(nums)
        // æ’¤é”€é€‰æ‹©
        track = track[:len(track)-1]
    }
}
```

### ä¾‹é¢˜

| åŠ›æ‰£                                                              | éš¾åº¦ | ç±»å‹ |
|--------------------------------------------------------------------------------------------------|------| ----- |
| [78.å­é›†](https://leetcode.cn/problems/subsets/)                                                  | ğŸŸ    | å­é›†ï¼ˆå…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼‰ |
| [77.ç»„åˆ](https://leetcode.cn/problems/combinations/)                                             | ğŸŸ    |ç»„åˆï¼ˆå…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼‰ |
| [216.ç»„åˆæ€»å’Œ III](https://leetcode.cn/problems/combination-sum-iii/)                              | ğŸŸ    | ç»„åˆï¼ˆå…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼‰ |
| [46.å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/)                                           | ğŸŸ    | æ’åˆ—ï¼ˆå…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼‰ |
| [90.å­é›† II](https://leetcode.cn/problems/subsets-ii/)                                            | ğŸŸ    | å­é›†ï¼ˆå…ƒç´ å¯é‡ä¸å¯å¤é€‰ï¼‰ |
| [40.ç»„åˆæ€»å’Œ II](https://leetcode.cn/problems/combination-sum-ii/)                                 | ğŸŸ    | ç»„åˆï¼ˆå…ƒç´ å¯é‡ä¸å¯å¤é€‰ï¼‰ |
| [47.å…¨æ’åˆ— II](https://leetcode.cn/problems/permutations-ii/)                                     | ğŸŸ    | æ’åˆ—ï¼ˆå…ƒç´ å¯é‡ä¸å¯å¤é€‰ï¼‰ |
| [39.ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum/)                                       | ğŸŸ    | ç»„åˆï¼ˆå…ƒç´ æ— é‡å¯å¤é€‰ï¼‰ |
| [22. æ‹¬å·ç”Ÿæˆ](https://leetcode.cn/problems/generate-parentheses/)                                 | ğŸŸ    |  |
| [698. åˆ’åˆ†ä¸ºkä¸ªç›¸ç­‰çš„å­é›†](https://leetcode.cn/problems/partition-to-k-equal-sum-subsets/)         | ğŸŸ    |  |


#### 90.å­é›† IIï¼ˆå…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼‰

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ äº’ä¸ç›¸åŒ ã€‚è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›è§£é›†ã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]
```

æˆ‘ä»¬ä½¿ç”¨ `start` å‚æ•°æ§åˆ¶æ ‘æçš„ç”Ÿé•¿é¿å…äº§ç”Ÿé‡å¤çš„å­é›†ï¼Œç”¨ `track` è®°å½•æ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„è·¯å¾„çš„å€¼ï¼ŒåŒæ—¶åœ¨å‰åºä½ç½®æŠŠæ¯ä¸ªèŠ‚ç‚¹çš„è·¯å¾„å€¼æ”¶é›†èµ·æ¥ï¼Œå®Œæˆå›æº¯æ ‘çš„éå†å°±æ”¶é›†äº†æ‰€æœ‰å­é›†ã€‚

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202412241600542.png)

```go
func subsets(nums []int) [][]int {
    var res [][]int
    // è®°å½•å›æº¯ç®—æ³•çš„é€’å½’è·¯å¾„
    var track []int
    
    // å›æº¯ç®—æ³•æ ¸å¿ƒå‡½æ•°ï¼Œéå†å­é›†é—®é¢˜çš„å›æº¯æ ‘
    var backtrack func(int)
    backtrack = func(start int) {
        // å‰åºä½ç½®ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ä¸€ä¸ªå­é›†
        res = append(res, append([]int(nil), track...))
        
        // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
        for i := start; i < len(nums); i++ {
            // åšé€‰æ‹©
            track = append(track, nums[i])
            // é€šè¿‡ start å‚æ•°æ§åˆ¶æ ‘æçš„éå†ï¼Œé¿å…äº§ç”Ÿé‡å¤çš„å­é›†
            backtrack(i + 1)
            // æ’¤é”€é€‰æ‹©
            track = track[:len(track)-1]
        }
    }

    backtrack(0)
    return res
}
```

#### 77.ç»„åˆï¼ˆå…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼‰

ç»™å®šä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œè¿”å›èŒƒå›´ [1, n] ä¸­æ‰€æœ‰å¯èƒ½çš„ k ä¸ªæ•°çš„ç»„åˆã€‚

ä½ å¯ä»¥æŒ‰ä»»ä½•é¡ºåºè¿”å›ç­”æ¡ˆã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šn = 4, k = 2
è¾“å‡ºï¼š
[
  [2,4],
  [3,4],
  [2,3],
  [1,2],
  [1,3],
  [1,4],
]
```

è¿™æ˜¯æ ‡å‡†çš„ç»„åˆé—®é¢˜ï¼Œä½†æˆ‘ç»™ä½ ç¿»è¯‘ä¸€ä¸‹å°±å˜æˆå­é›†é—®é¢˜äº†ï¼š

ç»™ä½ è¾“å…¥ä¸€ä¸ªæ•°ç»„ nums = [1,2..,n] å’Œä¸€ä¸ªæ­£æ•´æ•° kï¼Œè¯·ä½ ç”Ÿæˆæ‰€æœ‰å¤§å°ä¸º k çš„å­é›†ã€‚

è¿˜æ˜¯ä»¥ nums = [1,2,3] ä¸ºä¾‹ï¼Œåˆšæ‰è®©ä½ æ±‚æ‰€æœ‰å­é›†ï¼Œå°±æ˜¯æŠŠæ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ”¶é›†èµ·æ¥ï¼›ç°åœ¨ä½ åªéœ€è¦æŠŠç¬¬ 2 å±‚ï¼ˆæ ¹èŠ‚ç‚¹è§†ä¸ºç¬¬ 0 å±‚ï¼‰çš„èŠ‚ç‚¹æ”¶é›†èµ·æ¥ï¼Œå°±æ˜¯å¤§å°ä¸º 2 çš„æ‰€æœ‰ç»„åˆï¼š

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202412241604224.png)

åæ˜ åˆ°ä»£ç ä¸Šï¼Œåªéœ€è¦ç¨æ”¹ base caseï¼Œæ§åˆ¶ç®—æ³•ä»…ä»…æ”¶é›†ç¬¬ k å±‚èŠ‚ç‚¹çš„å€¼å³å¯ï¼š

```go
func combine(n int, k int) [][]int {
    var res [][]int
    // è®°å½•å›æº¯ç®—æ³•çš„é€’å½’è·¯å¾„
    var track []int

    // å›æº¯ç®—æ³•æ ¸å¿ƒå‡½æ•°
    var backtrack func(int)
    backtrack = func(start int) {
        // base case
        if k == len(track) {
            // éå†åˆ°äº†ç¬¬ k å±‚ï¼Œæ”¶é›†å½“å‰èŠ‚ç‚¹çš„å€¼
            res = append(res, append([]int(nil), track...))
            return
        }

        // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
        for i := start; i <= n; i++ {
            // é€‰æ‹©
            track = append(track, i)
            // é€šè¿‡ start å‚æ•°æ§åˆ¶æ ‘æçš„éå†ï¼Œé¿å…äº§ç”Ÿé‡å¤çš„å­é›†
            backtrack(i + 1)
            // æ’¤é”€é€‰æ‹©
            track = track[:len(track)-1]
        }
    }

    backtrack(1)
    return res
}
```

#### 216.ç»„åˆæ€»å’Œ IIIï¼ˆå…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼‰

æ‰¾å‡ºæ‰€æœ‰ç›¸åŠ ä¹‹å’Œä¸º n çš„ k ä¸ªæ•°çš„ç»„åˆï¼Œä¸”æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ï¼š

- åªä½¿ç”¨æ•°å­—1åˆ°9
- æ¯ä¸ªæ•°å­— æœ€å¤šä½¿ç”¨ä¸€æ¬¡ 

è¿”å›æ‰€æœ‰å¯èƒ½çš„æœ‰æ•ˆç»„åˆçš„åˆ—è¡¨ã€‚è¯¥åˆ—è¡¨ä¸èƒ½åŒ…å«ç›¸åŒçš„ç»„åˆä¸¤æ¬¡ï¼Œç»„åˆå¯ä»¥ä»¥ä»»ä½•é¡ºåºè¿”å›ã€‚

ç¤ºä¾‹ 1:

```go
è¾“å…¥: k = 3, n = 7
è¾“å‡º: [[1,2,4]]
è§£é‡Š:
1 + 2 + 4 = 7
æ²¡æœ‰å…¶ä»–ç¬¦åˆçš„ç»„åˆäº†ã€‚
```

```go
func combinationSum3(k int, n int) [][]int {
	var res [][]int
	var track []int
	var trackSum int

	var backtrack func(int)
	backtrack = func(start int) {
        // å½“æ»¡è¶³æ¡ä»¶æ—¶ï¼Œæ”¶é›† track çš„å€¼
		if k == len(track) && trackSum == n {
			res = append(res, append([]int(nil), track...))
		}

		if trackSum > n || len(track) > k {
			return
		}

        // ä» start å¼€å§‹éå†åˆ° 9ï¼ˆåªèƒ½ä½¿ç”¨æ•°å­— 1-9ï¼‰
		for i := start; i <= 9; i++ {
			trackSum += i
			track = append(track, i)
			backtrack(i + 1)
			track = track[:len(track)-1]
			trackSum -= i
		}
	}

	backtrack(1)
	return res
}
```

#### 46.å…¨æ’åˆ—ï¼ˆå…ƒç´ æ— é‡ä¸å¯å¤é€‰ï¼‰

ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ nums ï¼Œè¿”å›å…¶ æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ— ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šnums = [1,2,3]
è¾“å‡ºï¼š[[1,2,3],[1,3,2],[2,1,3],[2,3,1],[3,1,2],[3,2,1]]
```

åˆšæ‰è®²çš„ç»„åˆ/å­é›†é—®é¢˜ä½¿ç”¨ `start` å˜é‡ä¿è¯å…ƒç´  `nums[start]` ä¹‹ååªä¼šå‡ºç° `nums[start+1..]` ä¸­çš„å…ƒç´ ï¼Œé€šè¿‡å›ºå®šå…ƒç´ çš„ç›¸å¯¹ä½ç½®ä¿è¯ä¸å‡ºç°é‡å¤çš„å­é›†ã€‚

ä½†æ’åˆ—é—®é¢˜æœ¬èº«å°±æ˜¯è®©ä½ ç©·ä¸¾å…ƒç´ çš„ä½ç½®ï¼Œ`nums[i]` ä¹‹åä¹Ÿå¯ä»¥å‡ºç° `nums[i]` å·¦è¾¹çš„å…ƒç´ ï¼Œæ‰€ä»¥ä¹‹å‰çš„é‚£ä¸€å¥—ç©ä¸è½¬äº†ï¼Œéœ€è¦é¢å¤–ä½¿ç”¨ `used` æ•°ç»„æ¥æ ‡è®°å“ªäº›å…ƒç´ è¿˜å¯ä»¥è¢«é€‰æ‹©ã€‚

æ ‡å‡†å…¨æ’åˆ—å¯ä»¥æŠ½è±¡æˆå¦‚ä¸‹è¿™æ£µå¤šå‰æ ‘ï¼š

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202412241612892.png)

æˆ‘ä»¬ç”¨ `used` æ•°ç»„æ ‡è®°å·²ç»åœ¨è·¯å¾„ä¸Šçš„å…ƒç´ é¿å…é‡å¤é€‰æ‹©ï¼Œç„¶åæ”¶é›†æ‰€æœ‰å¶å­èŠ‚ç‚¹ä¸Šçš„å€¼ï¼Œå°±æ˜¯æ‰€æœ‰å…¨æ’åˆ—çš„ç»“æœï¼š

```go
func permute(nums []int) [][]int {
    var res [][]int
    // è®°å½•å›æº¯ç®—æ³•çš„é€’å½’è·¯å¾„
    var track []int
    // track ä¸­çš„å…ƒç´ ä¼šè¢«æ ‡è®°ä¸º true
    used := make([]bool, len(nums))

    // å›æº¯ç®—æ³•æ ¸å¿ƒå‡½æ•°
    var backtrace func()
    backtrace = func() {
        // base caseï¼Œåˆ°è¾¾å¶å­èŠ‚ç‚¹
        if len(track) == len(nums) {
            // æ”¶é›†å¶å­èŠ‚ç‚¹ä¸Šçš„å€¼
            res = append(res, append([]int(nil), track...))
            return
        }
        // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
        for i := 0; i < len(nums); i++ {
            if used[i] {
                continue
            }
            // åšé€‰æ‹©
            used[i] = true
            track = append(track, nums[i])
            // è¿›å…¥ä¸‹ä¸€å±‚å›æº¯æ ‘
            backtrace()
            // å–æ¶ˆé€‰æ‹©
            track = track[:len(track)-1]
            used[i] = false
        }
    }
    backtrace()
    return res
}
```

#### 90.å­é›† IIï¼ˆå…ƒç´ å¯é‡ä¸å¯å¤é€‰ï¼‰

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ï¼Œè¯·ä½ è¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚

è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚è¿”å›çš„è§£é›†ä¸­ï¼Œå­é›†å¯ä»¥æŒ‰ä»»æ„é¡ºåºæ’åˆ—ã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šnums = [1,2,2]
è¾“å‡ºï¼š[[],[1],[1,2],[1,2,2],[2],[2,2]]
```

éœ€è¦è¿›è¡Œå‰ªæå»é™¤é‡å¤ç»“æœï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹æœ‰å¤šæ¡å€¼ç›¸åŒçš„æ ‘æç›¸é‚»ï¼Œåˆ™åªéå†ç¬¬ä¸€æ¡ï¼Œå‰©ä¸‹çš„éƒ½å‰ªæ‰ï¼Œä¸è¦å»éå†ã€‚

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202412241630544.png)

å…ˆå¯¹å…ƒç´ è¿›è¡Œæ’åºï¼Œè®©ç›¸åŒçš„å…ƒç´ é åœ¨ä¸€èµ·ï¼Œå¦‚æœå‘ç° nums[i] == nums[i-1]ï¼Œåˆ™è·³è¿‡ï¼š

```go
func subsetsWithDup(nums []int) [][]int {
	var res [][]int
    // è®°å½•å›æº¯ç®—æ³•çš„é€’å½’è·¯å¾„
	var track []int
    // å…ˆæ’åºï¼Œè®©ç›¸åŒçš„å…ƒç´ é åœ¨ä¸€èµ·
	sort.Ints(nums)

	var backtrack func(int)
	backtrack = func(start int) {
        // å‰åºä½ç½®ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½æ˜¯ä¸€ä¸ªå­é›†
		res = append(res, append([]int(nil), track...))

		for i := start; i < len(nums); i++ {
            // å‰ªæé€»è¾‘ï¼Œå€¼ç›¸åŒçš„ç›¸é‚»æ ‘æï¼Œåªéå†ç¬¬ä¸€æ¡
			if i > start && nums[i] == nums[i-1] {
				continue
			}
			track = append(track, nums[i])
			backtrack(i + 1)
			track = track[:len(track)-1]
		}
	}
	backtrack(0)
	return res
}
```

#### 40.ç»„åˆæ€»å’Œ IIï¼ˆå…ƒç´ å¯é‡ä¸å¯å¤é€‰ï¼‰

ç»™å®šä¸€ä¸ªå€™é€‰äººç¼–å·çš„é›†åˆ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° targetï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚

candidates ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ ã€‚

æ³¨æ„ï¼šè§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ 

ç¤ºä¾‹ 1:

```go
è¾“å…¥: candidates = [10,1,2,7,6,1,5], target = 8,
è¾“å‡º:
[
[1,1,6],
[1,2,5],
[1,7],
[2,6]
]
```

è¯´è¿™æ˜¯ä¸€ä¸ªç»„åˆé—®é¢˜ï¼Œå…¶å®æ¢ä¸ªé—®æ³•å°±å˜æˆå­é›†é—®é¢˜äº†ï¼šè¯·ä½ è®¡ç®— candidates ä¸­æ‰€æœ‰å’Œä¸º target çš„å­é›†ã€‚

å¯¹æ¯”å­é›†é—®é¢˜çš„è§£æ³•ï¼Œåªè¦é¢å¤–ç”¨ä¸€ä¸ª trackSum å˜é‡è®°å½•å›æº¯è·¯å¾„ä¸Šçš„å…ƒç´ å’Œï¼Œç„¶åå°† base case æ”¹ä¸€æ”¹å³å¯è§£å†³è¿™é“é¢˜ï¼š

```go
func combinationSum2(nums []int, target int) [][]int {
	var res [][]int
	var track []int
    // è®°å½• track ä¸­çš„å…ƒç´ ä¹‹å’Œ
	var trackSum int
    // å…ˆæ’åºï¼Œè®©ç›¸åŒçš„å…ƒç´ é åœ¨ä¸€èµ·
	sort.Ints(nums)

    // å›æº¯ç®—æ³•ä¸»å‡½æ•°
	var backtrack func(int)
	backtrack = func(start int) {
        // base caseï¼Œè¾¾åˆ°ç›®æ ‡å’Œï¼Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç»„åˆ
		if trackSum == target {
			res = append(res, append([]int(nil), track...))
            return
		}
        // base caseï¼Œè¶…è¿‡ç›®æ ‡å’Œï¼Œç›´æ¥ç»“æŸ
		if trackSum > target {
			return
		}
        // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
		for i := start; i < len(nums); i++ {
            // å‰ªæé€»è¾‘ï¼Œå€¼ç›¸åŒçš„æ ‘æï¼Œåªéå†ç¬¬ä¸€æ¡
			if i > start && nums[i] == nums[i-1] {
				continue
			}
            // åšé€‰æ‹©
			track = append(track, nums[i])
			trackSum += nums[i]
            // é€’å½’éå†ä¸‹ä¸€å±‚å›æº¯æ ‘
			backtrack(i + 1)
            // æ’¤é”€é€‰æ‹©
			track = track[:len(track)-1]
			trackSum -= nums[i]
		}
	}
	backtrack(0)
	return res
}
```

#### 47.å…¨æ’åˆ— IIï¼ˆå…ƒç´ å¯é‡ä¸å¯å¤é€‰ï¼‰

ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ— nums ï¼ŒæŒ‰ä»»æ„é¡ºåº è¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šnums = [1,1,2]
è¾“å‡ºï¼š
[[1,1,2],
 [1,2,1],
 [2,1,1]]
``` 

å¯¹æ¯”ä¹‹å‰çš„[æ ‡å‡†å…¨æ’åˆ—è§£æ³•ä»£ç ](#_46-å…¨æ’åˆ—-å…ƒç´ æ— é‡ä¸å¯å¤é€‰)ï¼Œè¿™æ®µè§£æ³•ä»£ç åªæœ‰ä¸¤å¤„ä¸åŒï¼š

- 1.å¯¹ nums è¿›è¡Œäº†æ’åºã€‚
- 2.æ·»åŠ äº†ä¸€å¥é¢å¤–çš„å‰ªæé€»è¾‘ã€‚

```go
func permuteUnique(nums []int) [][]int {
	var res [][]int
	var track []int
    // track ä¸­çš„å…ƒç´ ä¼šè¢«æ ‡è®°ä¸º true
	used := make([]bool, len(nums))
    // å…ˆæ’åºï¼Œè®©ç›¸åŒçš„å…ƒç´ é åœ¨ä¸€èµ·
	sort.Ints(nums)

	var backtrack func()
	backtrack = func() {
		if len(track) == len(nums) {
			res = append(res, append([]int(nil), track...))
            return
		}
        // æ³¨æ„èµ·å§‹æ˜¯ 0ï¼Œæ²¡æœ‰ start
		for i := 0; i < len(nums); i++ {
			if used[i] {
				continue
			}
            // æ–°æ·»åŠ çš„å‰ªæé€»è¾‘ï¼Œå›ºå®šç›¸åŒçš„å…ƒç´ åœ¨æ’åˆ—ä¸­çš„ç›¸å¯¹ä½ç½®
            // è¯´æ˜å½“å‰æ•°å­—ä¸å‰ä¸€ä¸ªæ•°å­—ç›¸åŒï¼Œå¹¶ä¸”å‰ä¸€ä¸ªæ•°å­—å°šæœªè¢«ä½¿ç”¨ï¼Œæ­¤æ—¶è·³è¿‡ä»¥é¿å…é‡å¤æ’åˆ—
			if i > 0 && nums[i] == nums[i-1] && !used[i-1] {
				continue
			}

			used[i] = true
			track = append(track, nums[i])
			backtrack()
			track = track[:len(track)-1]
			used[i] = false
		}
	}
	backtrack()
	return res
}
```

#### 39.ç»„åˆæ€»å’Œï¼ˆå…ƒç´ æ— é‡å¯å¤é€‰ï¼‰

ç»™ä½ ä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•´æ•°æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•´æ•° targetï¼Œæ‰¾å‡º candidates ä¸­å¯ä»¥ä½¿æ•°å­—å’Œä¸ºç›®æ ‡æ•° target çš„æ‰€æœ‰ä¸åŒç»„åˆï¼Œå¹¶ä»¥åˆ—è¡¨å½¢å¼è¿”å›ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›è¿™äº›åˆã€‚

candidates ä¸­çš„åŒä¸€ä¸ªæ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–ã€‚å¦‚æœè‡³å°‘ä¸€ä¸ªæ•°å­—çš„è¢«é€‰æ•°é‡ä¸åŒï¼Œåˆ™ä¸¤ç§ç»„åˆæ˜¯ä¸åŒçš„ã€‚ 

å¯¹äºç»™å®šçš„è¾“å…¥ï¼Œä¿è¯å’Œä¸º target çš„ä¸åŒç»„åˆæ•°å°‘äº 150 ä¸ªã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šcandidates = [2,3,6,7], target = 7
è¾“å‡ºï¼š[[2,2,3],[7]]
è§£é‡Šï¼š
2 å’Œ 3 å¯ä»¥å½¢æˆä¸€ç»„å€™é€‰ï¼Œ2 + 2 + 3 = 7 ã€‚æ³¨æ„ 2 å¯ä»¥ä½¿ç”¨å¤šæ¬¡ã€‚
7 ä¹Ÿæ˜¯ä¸€ä¸ªå€™é€‰ï¼Œ 7 = 7 ã€‚
ä»…æœ‰è¿™ä¸¤ç§ç»„åˆã€‚
```

åœ¨ä¹‹å‰å¤„ç†æ— é‡å¤å…ƒç´ çš„å­é›†/ç»„åˆé—®é¢˜æ—¶ï¼Œæˆ‘ä»¬åœ¨è°ƒç”¨ backtrack å‡½æ•°çš„æ—¶å€™ä¼ å…¥ `i + 1`ï¼Œè¿™ä¸ª i ä» start å¼€å§‹ï¼Œé‚£ä¹ˆä¸‹ä¸€å±‚å›æº¯æ ‘å°±æ˜¯ä» start + 1 å¼€å§‹ï¼Œä»è€Œä¿è¯ nums[start] è¿™ä¸ªå…ƒç´ ä¸ä¼šè¢«é‡å¤ä½¿ç”¨ã€‚

é‚£ä¹ˆåè¿‡æ¥ï¼Œå¦‚æœæˆ‘æƒ³è®©æ¯ä¸ªå…ƒç´ è¢«é‡å¤ä½¿ç”¨ï¼Œæˆ‘åªè¦æŠŠ `i + 1` æ”¹æˆ `i` å³å¯ï¼š

```go
func combinationSum(nums []int, target int) [][]int {
	var res [][]int
    // è®°å½•å›æº¯çš„è·¯å¾„
	var track []int
    // è®°å½• track ä¸­çš„è·¯å¾„å’Œ
    var trackSum int

    var backtrack func(int)
    backtrack = func(start int) {
        // base caseï¼Œæ‰¾åˆ°ç›®æ ‡å’Œï¼Œè®°å½•ç»“æœ
        if trackSum == target {
            res = append(res, append([]int(nil), track...))
            return
        }
        // base caseï¼Œè¶…è¿‡ç›®æ ‡å’Œï¼Œåœæ­¢å‘ä¸‹éå†
        if trackSum > target {
            return
        }

        // å›æº¯ç®—æ³•æ ‡å‡†æ¡†æ¶
        for i := start; i < len(nums); i++ {
            // é€‰æ‹© nums[i]
            trackSum += nums[i]
            track = append(track, nums[i])
            // é€’å½’éå†ä¸‹ä¸€å±‚å›æº¯æ ‘
            // åŒä¸€å…ƒç´ å¯é‡å¤ä½¿ç”¨ï¼Œæ³¨æ„å‚æ•°
            backtrack(i)
            // æ’¤é”€é€‰æ‹© nums[i]
            track = track[:len(track)-1]
            trackSum -= nums[i]
        }
    }

    backtrack(0)
    return res

}
```

#### æ‹¬å·ç”Ÿæˆ

æ•°å­— n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸”æœ‰æ•ˆçš„æ‹¬å·ç»„åˆã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼šn = 3
è¾“å‡ºï¼š["((()))","(()())","(())()","()(())","()()()"]
```

è¿™é“é¢˜çš„æ ¸å¿ƒæ€è·¯æ˜¯é€šè¿‡é€’å½’å›æº¯ç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„æ‹¬å·ç»„åˆï¼Œå¹¶ç”¨å‰ªææ¡ä»¶ç¡®ä¿åªç”Ÿæˆåˆæ³•çš„ç»„åˆï¼š

- 1. ç”¨ `left` å’Œ `right` åˆ†åˆ«è¡¨ç¤ºå‰©ä½™çš„å·¦æ‹¬å·å’Œå³æ‹¬å·æ•°é‡ã€‚
- 2. å‰ªææ¡ä»¶ï¼šå³æ‹¬å·æ•°é‡ä¸èƒ½å°‘äºå·¦æ‹¬å·ï¼ˆ`right < left`ï¼‰ä¸”æ‹¬å·æ•°é‡ä¸èƒ½å°äº 0ã€‚
- 3. æ¯æ¬¡é€’å½’é€‰æ‹©æ·»åŠ å·¦æ‹¬å·æˆ–å³æ‹¬å·ï¼Œå¹¶åœ¨å·¦å³æ‹¬å·éƒ½ç”¨å®Œæ—¶è®°å½•ç»“æœã€‚

```go
func generateParenthesis(n int) []string {
    var track string
    var res []string

    var backtrack func(left, right int)
    backtrack = func(left, right int) {
        // è‹¥å·¦æ‹¬å·å‰©ä¸‹çš„å¤šï¼Œè¯´æ˜ä¸åˆæ³•
        // å¯ä»¥æ’é™¤æ‰ç±»ä¼¼ ))(( è¿™ç§æ— æ•ˆçš„æ‹¬å·ï¼Œå› ä¸º ))( çš„æ—¶å€™ right < leftï¼Œå·²ç»è¢«æ’é™¤äº†
        if right < left {
            return
        }
        // æ•°é‡å°äº 0 è‚¯å®šæ˜¯ä¸åˆæ³•çš„
        if left < 0 || right < 0 {
            return
        }
        // å½“æ‰€æœ‰æ‹¬å·éƒ½æ°å¥½ç”¨å®Œæ—¶ï¼Œå¾—åˆ°ä¸€ä¸ªåˆæ³•çš„æ‹¬å·ç»„åˆ
        if left == 0 && right == 0 {
            res = append(res, track)
            return
        }

        // åšé€‰æ‹©ï¼Œå°è¯•æ”¾ä¸€ä¸ªå·¦æ‹¬å·
        track += "("
        backtrack(left-1, right)
        // æ’¤é”€é€‰æ‹©
        track = track[:len(track)-1]

        // åšé€‰æ‹©ï¼Œå°è¯•æ”¾ä¸€ä¸ªå³æ‹¬å·
        track += ")"
        backtrack(left, right-1)
        // æ’¤é”€é€‰æ‹©
        track = track[:len(track)-1]
    }

    backtrack(n, n)
    return res
}
```

#### 698. åˆ’åˆ†ä¸ºkä¸ªç›¸ç­‰çš„å­é›†

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„  nums å’Œä¸€ä¸ªæ­£æ•´æ•° kï¼Œæ‰¾å‡ºæ˜¯å¦æœ‰å¯èƒ½æŠŠè¿™ä¸ªæ•°ç»„åˆ†æˆ k ä¸ªéç©ºå­é›†ï¼Œå…¶æ€»å’Œéƒ½ç›¸ç­‰ã€‚

ç¤ºä¾‹ 1ï¼š

```go
è¾“å…¥ï¼š nums = [4, 3, 2, 3, 5, 2, 1], k = 4
è¾“å‡ºï¼š True
è¯´æ˜ï¼š æœ‰å¯èƒ½å°†å…¶åˆ†æˆ 4 ä¸ªå­é›†ï¼ˆ5ï¼‰ï¼Œï¼ˆ1,4ï¼‰ï¼Œï¼ˆ2,3ï¼‰ï¼Œï¼ˆ2,3ï¼‰ç­‰äºæ€»å’Œã€‚
```
