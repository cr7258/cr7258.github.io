---
title: AI
author: Se7en
categories:
 - AI
tags:
 - AI
 - Open Source
---

# AI

## AI Agent

### smolagents

[smolagents](https://github.com/huggingface/smolagents) æ˜¯ä¸€ä¸ªåº“ï¼Œè®©ä½ åªéœ€å‡ è¡Œä»£ç å°±èƒ½è¿è¡Œå¼ºå¤§çš„æ™ºèƒ½ä»£ç†ã€‚å®ƒæä¾›äº†ä»¥ä¸‹ç‰¹ç‚¹ï¼š

âœ¨ **ç®€å•æ€§**ï¼šä»£ç†çš„é€»è¾‘ä»…éœ€çº¦ 1000 è¡Œä»£ç ï¼ˆè§ [agents.py](https://github.com/huggingface/smolagents/blob/main/src/smolagents/agents.py)ï¼‰ã€‚æˆ‘ä»¬å°†æŠ½è±¡å±‚ä¿æŒåœ¨æœ€ä½é™åº¦ï¼Œç›´æ¥åŸºäºåŸå§‹ä»£ç ï¼

ğŸ§‘â€ğŸ’» **å¯¹ä»£ç ä»£ç†çš„ä¸€æµæ”¯æŒ**ï¼šæˆ‘ä»¬çš„ [`CodeAgent`](https://huggingface.co/docs/smolagents/reference/agents#smolagents.CodeAgent) é€šè¿‡ç¼–å†™ä»£ç æ¥æ‰§è¡ŒåŠ¨ä½œï¼ˆè€Œä¸æ˜¯â€œä»£ç†è¢«ç”¨æ¥ç¼–å†™ä»£ç â€ï¼‰ã€‚ä¸ºäº†ç¡®ä¿å®‰å…¨æ€§ï¼Œæˆ‘ä»¬æ”¯æŒé€šè¿‡ [E2B](https://e2b.dev/) åœ¨æ²™ç®±ç¯å¢ƒä¸­æ‰§è¡Œä»£ç ã€‚

ğŸ¤— **Hub é›†æˆ**ï¼šä½ å¯ä»¥[ä» Hub åˆ†äº«æˆ–æ‹‰å–å·¥å…·](https://huggingface.co/docs/smolagents/reference/tools#smolagents.Tool.from_hub)ï¼Œæœªæ¥è¿˜ä¼šæœ‰æ›´å¤šåŠŸèƒ½ï¼

ğŸŒ **æ¨¡å‹æ— å…³æ€§**ï¼šsmolagents æ”¯æŒä»»ä½•å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ã€‚å¯ä»¥æ˜¯æœ¬åœ°çš„ `transformers` æˆ– `ollama` æ¨¡å‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ [Hub ä¸Šçš„å¤šç§æä¾›å•†](https://huggingface.co/blog/inference-providers)ï¼Œæˆ–è€…é€šè¿‡æˆ‘ä»¬çš„ [LiteLLM](https://www.litellm.ai/) é›†æˆæ”¯æŒ OpenAIã€Anthropic ç­‰å¤šç§æ¨¡å‹ã€‚

ğŸ‘ï¸ **å¤šæ¨¡æ€æ”¯æŒ**ï¼šä»£ç†æ”¯æŒæ–‡æœ¬ã€è§†è§‰ã€è§†é¢‘ç”šè‡³éŸ³é¢‘è¾“å…¥ï¼è¯·å‚é˜…[æ­¤æ•™ç¨‹](https://huggingface.co/docs/smolagents/examples/web_browser) äº†è§£è§†è§‰ç›¸å…³å†…å®¹ã€‚

ğŸ› ï¸ **å·¥å…·æ— å…³æ€§**ï¼šä½ å¯ä»¥ä½¿ç”¨ [LangChain](https://huggingface.co/docs/smolagents/reference/tools#smolagents.Tool.from_langchain)ã€[Anthropic çš„ MCP](https://huggingface.co/docs/smolagents/reference/tools#smolagents.ToolCollection.from_mcp) çš„å·¥å…·ï¼Œç”šè‡³å¯ä»¥å°† [Hub Space](https://huggingface.co/docs/smolagents/reference/tools#smolagents.Tool.from_space) ç”¨ä½œå·¥å…·ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ä½¿ç”¨ç¤ºä¾‹ï¼š

```python
from smolagents import CodeAgent, HfApiModel

model_id = "meta-llama/Llama-3.3-70B-Instruct" 

model = HfApiModel(model_id=model_id, token="<YOUR_HUGGINGFACEHUB_API_TOKEN>") # You can choose to not pass any model_id to HfApiModel to use a default free model
# you can also specify a particular provider e.g. provider="together" or provider="sambanova"
agent = CodeAgent(tools=[], model=model, add_base_tools=True)

agent.run(
    "Could you give me the 118th number in the Fibonacci sequence?",
)
```

### autogen

AutoGen æ˜¯ä¸€ä¸ªå¼€æºç¼–ç¨‹æ¡†æ¶ï¼Œç”¨äºæ„å»º AI ä»£ç†å¹¶ä¿ƒè¿›å¤šä¸ªä»£ç†ä¹‹é—´çš„åˆä½œä»¥è§£å†³é—®é¢˜ã€‚AutoGen æ—¨åœ¨æä¾›ä¸€ä¸ªæ˜“äºä½¿ç”¨å’Œçµæ´»çš„æ¡†æ¶ï¼Œä»¥åŠ é€Ÿä»£ç†å‹ AI çš„å¼€å‘å’Œç ”ç©¶ã€‚å®ƒæä¾›äº†è¯¸å¦‚ä»£ç†ä¹‹é—´å¯ä»¥å¯¹è¯ã€LLM å’Œå·¥å…·ä½¿ç”¨æ”¯æŒã€è‡ªä¸»å’Œäººæœºåä½œå·¥ä½œæµä»¥åŠå¤šä»£ç†å¯¹è¯æ¨¡å¼ç­‰åŠŸèƒ½ã€‚

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202502231559347.png)

å…¥é—¨çš„ä¾‹å­æ˜¯åˆ›å»ºä¸€ä¸ª AI å›¢é˜Ÿï¼Œä¸€ä¸ªå½“ä»»åŠ¡æ‰§è¡Œè€…ï¼Œä¸€ä¸ªå½“è¯„åˆ¤è€…ï¼Œå½“è¯„åˆ¤è€…è§‰å¾—å¯ä»¥äº†ï¼Œå°±åœæ­¢å¯¹è¯ï¼Œå®Œæˆä»»åŠ¡ã€‚

```python
import asyncio

from autogen_agentchat.agents import AssistantAgent
from autogen_agentchat.base import TaskResult
from autogen_agentchat.conditions import ExternalTermination, TextMentionTermination
from autogen_agentchat.teams import RoundRobinGroupChat
from autogen_agentchat.ui import Console
from autogen_core import CancellationToken
from autogen_ext.models.openai import OpenAIChatCompletionClient

async def main():

    # Create an OpenAI model client.
    model_client = OpenAIChatCompletionClient(
        model="gpt-4o-2024-08-06",
        api_key="", # Optional if you have an OPENAI_API_KEY env variable set.
        )

    # Create the primary agent.
    primary_agent = AssistantAgent(
        "primary",
        model_client=model_client,
        system_message="You are a helpful AI assistant.",
    )

    # Create the critic agent.
    critic_agent = AssistantAgent(
        "critic",
        model_client=model_client,
        system_message="Provide constructive feedback. Respond with 'APPROVE' to when your feedbacks are addressed.",
    )

    # Define a termination condition that stops the task if the critic approves.
    text_termination = TextMentionTermination("APPROVE")


    team = RoundRobinGroupChat(
        [primary_agent, critic_agent],
        termination_condition=text_termination,  # Use the bitwise OR operator to combine conditions.
    )

    await Console(team.run_stream(task="å†™ä¸€é¦–å…³äºç§‹å¤©çš„çŸ­è¯—"))

    
if __name__ == "__main__":
    asyncio.run(main())
```

è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š

```python
---------- user ----------
å†™ä¸€é¦–å…³äºç§‹å¤©çš„çŸ­è¯—
---------- primary ----------
ç§‹é£è½»æ‘‡å¶æ¼«å¤©ï¼Œ  
é‡‘é»„ç¨»ç©—ç¬‘ä¸°å¹´ã€‚  
æ«çº¢æŸ“å°½å±±å·è·¯ï¼Œ  
ç¡•æœæ»¡ææƒ¹äººæ€œã€‚  

æ™¨éœœç‚¹ç¼€è‰é—´ç ï¼Œ  
å¤•é˜³æ˜ å½±æ¹–ä¸­èˆ¹ã€‚  
é™è°§å‡‰æœˆç›ˆæ»¡ç©ºï¼Œ  
ç§‹å¤œæ¸©æŸ”å¦‚æ¢¦ç”œã€‚  
[Prompt tokens: 28, Completion tokens: 81]
---------- critic ----------
è¿™é¦–å…³äºç§‹å¤©çš„çŸ­è¯—è¿ç”¨äº†ä¸°å¯Œçš„æ„è±¡ç”ŸåŠ¨åœ°æç»˜äº†ç§‹å¤©çš„ç¾ä¸½ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å»ºè®®æ¥è¿›ä¸€æ­¥æå‡è¿™é¦–è¯—ï¼š

1. å¼€å¤´çš„ä¸¤è¡Œå·²ç»ç›¸å½“å®Œæ•´ï¼Œä½†å¯ä»¥è€ƒè™‘å°†â€œè½»æ‘‡â€æ›¿æ¢ä¸ºæ›´å…·ä½“çš„åŠ¨è¯ï¼Œæ¯”å¦‚â€œé£˜è½â€ï¼Œä»¥å¢å¼ºç”»é¢æ„Ÿã€‚
2. ç¬¬äºŒèŠ‚ä¸­çš„â€œæ™¨éœœç‚¹ç¼€è‰é—´ç â€å¯ä»¥æ›´åŠ å…·ä½“åŒ–ï¼Œæ¯”å¦‚ä½†ä¸å±€é™äºä½¿ç”¨â€œç™½éœœâ€ï¼Œè¿›ä¸€æ­¥å¯Œæœ‰è¯—æ„åœ°æè¿°ç§‹å­£æ¸…æ™¨çš„ç»†èŠ‚ã€‚
3. å°¾å¥â€œç§‹å¤œæ¸©æŸ”å¦‚æ¢¦ç”œâ€å¯ä»¥å†ç»“åˆä¸€ä¸ªæ„Ÿå®˜æå†™ï¼Œæ¯”å¦‚â€œå¦‚æ¢¦â€å¯ä»¥ç»“åˆæ²äººå¿ƒè„¾çš„â€œæ¡‚é¦™æ‰‘é¼»â€ä¹‹ç±»çš„ç»†èŠ‚æ¥ä¸°å¯Œæ•´ä½“ä½“éªŒã€‚

è¿™äº›å»ºè®®æ—¨åœ¨å¢åŠ è¯—æ­Œçš„ç”ŸåŠ¨æ€§å’Œæƒ…æ„Ÿæ·±åº¦ï¼Œæ•´ä½“ä¸Šå·²ç»éå¸¸ä¼˜ç§€ã€‚è¯·è¿›è¡Œç›¸åº”çš„æ”¹åŠ¨åï¼Œæˆ‘å°†å¾ˆé«˜å…´åœ°ç»™äºˆæ‰¹å‡†ã€‚
[Prompt tokens: 126, Completion tokens: 215]
---------- primary ----------
éå¸¸æ„Ÿè°¢æ‚¨çš„å»ºè®®ï¼æ ¹æ®æ‚¨çš„æ„è§ï¼Œæˆ‘å¯¹è¯—æ­Œåšäº†ä¸€äº›ä¿®æ”¹ï¼š

ç§‹é£é£˜è½å¶æ¼«å¤©ï¼Œ  
é‡‘é»„ç¨»ç©—ç¬‘ä¸°å¹´ã€‚  
æ«çº¢æŸ“å°½å±±å·è·¯ï¼Œ  
ç¡•æœæ»¡ææƒ¹äººæ€œã€‚  

ç™½éœœç‚¹ç¼€è‰é—´ç ï¼Œ  
å¤•é˜³æ˜ å½±æ¹–ä¸­èˆ¹ã€‚  
æ¡‚é¦™æ‰‘é¼»æœˆæ»¡ç©ºï¼Œ  
ç§‹å¤œæ¸©æŸ”å¦‚æ¢¦ç”œã€‚  

å¸Œæœ›è¿™äº›æ”¹åŠ¨èƒ½å¤Ÿå¢å¼ºè¯—æ­Œçš„ç”ŸåŠ¨æ€§ï¼Œå¸¦æ¥æ›´åŠ ä¸°å¯Œçš„ç§‹å­£ä½“éªŒã€‚
[Prompt tokens: 334, Completion tokens: 120]
---------- critic ----------
æ”¹åŠ¨åçš„è¯—æ­Œç¡®å®æ›´åŠ ç”ŸåŠ¨ä¸”å¯Œæœ‰ç”»é¢æ„Ÿã€‚ä½¿ç”¨â€œé£˜è½â€æ›´å¥½åœ°æç»˜äº†ç§‹å¤©çš„ç‰¹å¾ï¼Œè€Œâ€œç™½éœœâ€å’Œâ€œæ¡‚é¦™æ‰‘é¼»â€çš„åŠ å…¥ä½¿å¾—è¯—æ­Œåœ¨æ„Ÿå®˜æè¿°ä¸Šæ›´åŠ å…·ä½“å’Œä¸°å¯Œã€‚è¿™ äº›æ”¹åŠ¨æœ‰æ•ˆåœ°å¢å¼ºäº†è¯—æ­Œçš„ç”ŸåŠ¨æ€§å’Œæƒ…æ„Ÿæ·±åº¦ã€‚å› æ­¤ï¼Œæˆ‘å‡†è®¸è¯¥ç¨¿ä»¶ã€‚ 

APPROVE
[Prompt tokens: 471, Completion tokens: 92]
---------- Summary ----------
Number of messages: 5
Finish reason: Text 'APPROVE' mentioned
Total prompt tokens: 959
Total completion tokens: 508
Duration: 14.87 seconds
```

å‚è€ƒèµ„æ–™ï¼š
- [AutoGenå…¥é—¨-è®©ä¸¤ä¸ªAIè‡ªè¡ŒèŠå¤©å®Œæˆä»»åŠ¡](https://www.cnblogs.com/mingupupu/p/18658018)

## AI å¯è§‚æµ‹

### Arize Phoenix

[Phoenix](https://github.com/Arize-ai/phoenix) æ˜¯ä¸€ä¸ªå¼€æºçš„ AI å¯è§‚æµ‹å¹³å°ï¼Œä¸“ä¸ºå®éªŒã€è¯„ä¼°å’Œæ•…éšœæ’é™¤è€Œè®¾è®¡ã€‚å®ƒæä¾›ï¼š

- [**è¿½è¸ªï¼ˆTracingï¼‰**](https://docs.arize.com/phoenix/tracing/llm-traces) - ä½¿ç”¨åŸºäº OpenTelemetry çš„å·¥å…·å¯¹ LLM åº”ç”¨ç¨‹åºçš„è¿è¡Œæ—¶è¿›è¡Œè¿½è¸ªã€‚  
- [**è¯„ä¼°ï¼ˆEvaluationï¼‰**](https://docs.arize.com/phoenix/evaluation/llm-evals) - åˆ©ç”¨ LLM è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼Œé€šè¿‡å“åº”å’Œæ£€ç´¢è¯„ä¼°è¡¡é‡åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚  
- [**æ•°æ®é›†ï¼ˆDatasetsï¼‰**](https://docs.arize.com/phoenix/datasets-and-experiments/overview-datasets) - åˆ›å»ºç‰ˆæœ¬åŒ–çš„æ•°æ®é›†ï¼Œä»¥æ”¯æŒå®éªŒã€è¯„ä¼°å’Œå¾®è°ƒã€‚  
- [**å®éªŒï¼ˆExperimentsï¼‰**](https://docs.arize.com/phoenix/datasets-and-experiments/overview-datasets#experiments) - è·Ÿè¸ªå¹¶è¯„ä¼°æç¤ºè¯ã€LLM å’Œæ£€ç´¢æ–¹å¼çš„å˜æ›´å½±å“ã€‚  
- [**æ¸¸ä¹åœºï¼ˆPlaygroundï¼‰**](https://docs.arize.com/phoenix/prompt-engineering/overview-prompts) - ä¼˜åŒ–æç¤ºè¯ã€å¯¹æ¯”æ¨¡å‹ã€è°ƒæ•´å‚æ•°ï¼Œå¹¶é‡æ”¾è¿½è¸ªåˆ°çš„ LLM è°ƒç”¨ã€‚  

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202502162001391.gif)

## AI ä»£ç†

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202501032030701.png)

å‚è€ƒèµ„æ–™ï¼š

- [LLMä¾›åº”å•†](https://www.xiaogenban1993.com/blog/24.09/llm%E4%BE%9B%E5%BA%94%E5%95%86)

### OpenRouter

[OpenRouter](https://openrouter.ai/) æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ API æœåŠ¡å¹³å°ï¼Œæ—¨åœ¨é€šè¿‡å•ä¸€æ¥å£ä¸ºç”¨æˆ·æä¾›å¯¹å¤šç§å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„è®¿é—®ã€‚ 

è¯¥å¹³å°æ”¯æŒå¤šç§çŸ¥åæ¨¡å‹ï¼ŒåŒ…æ‹¬ OpenAI çš„ GPT-3.5 å’Œ GPT-4ã€Anthropic çš„ Claude ç³»åˆ—ã€Meta çš„ LLaMA ç³»åˆ—ã€Google çš„ Gemini ç³»åˆ—ç­‰ã€‚

é—­æºæ¨¡å‹å¦‚ GPT æ˜¯å’Œ [OpenAI çš„å®˜ç½‘ä»·æ ¼](https://openai.com/api/pricing/)ä¸€è‡´ç”šè‡³æ›´ä½ï¼Œå¹¶ä¸”å·²ç»æä¾›äº†æœ€æ–°çš„ o1 æ¨¡å‹äº†ã€‚

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202501032022759.png)

å¼€æº llama3.1-70b 8K ä¸Šä¸‹æ–‡ç”šè‡³å…è´¹ï¼Œ131K ä¸Šä¸‹æ–‡æ”¶è´¹ä¹Ÿä»…æœ‰ 0.12 ç¾å…ƒ/ç™¾ä¸‡ tokenã€‚

![](https://chengzw258.oss-cn-beijing.aliyuncs.com/Article/202501032022920.png)

**ä½¿ç”¨æ–¹æ³•**

è¯·æ±‚çš„æ—¶å€™ç»Ÿä¸€æŒ‡å®š OpenRouter çš„åœ°å€ï¼šhttps://openrouter.aiï¼Œåœ¨ model ä¸­æŒ‡å®šæ¨¡å‹åç§°ï¼Œä¾‹å¦‚ `openai/gpt-3.5-turbo`ã€`anthropic/claude-3.5-haiku-20241022`ï¼Œè¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ç»Ÿä¸€ä½¿ç”¨ OpenAI çš„æ ¼å¼ã€‚

```bash
curl https://openrouter.ai/api/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer ${OPENROUTER_API_KEY}" \
  -d '{
  "model": "openai/gpt-3.5-turbo",
  "messages": [
    {
      "role": "user",
      "content": "What is the meaning of life?"
    }
  ]
}'


curl https://openrouter.ai/api/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer ${OPENROUTER_API_KEY}" \
  -d '{
  "model": "anthropic/claude-3.5-haiku-20241022",
  "messages": [
    {
      "role": "user",
      "content": "What is the meaning of life?"
    }
  ]
}'
```

## å…¶ä»–

### Screenpipe

Screenpipe æ˜¯ä¸€æ¬¾å¼€æºçš„ AI å·¥å…·ï¼Œèƒ½å¤Ÿ 24 å°æ—¶ä¸é—´æ–­åœ°è®°å½•æ‚¨çš„å±å¹•å’ŒéŸ³é¢‘æ•°æ®ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨æœ¬åœ°æ•°æ®åº“ä¸­ã€‚Screenpipe é€šè¿‡ç»“åˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ï¼Œå¯å®ç°å¯¹æ‚¨åœ¨ç”µè„‘ä¸Šæ‰€åšäº‹æƒ…çš„è¿›è¡Œå¯¹è¯ã€æ€»ç»“å’Œå›é¡¾ã€‚

å‚è€ƒèµ„æ–™ï¼š

- [Screenpipe use case examples](https://docs.screenpi.pe/docs/examples)
- [Screenpipe available pipes](https://docs.screenpi.pe/docs/plugins#available-pipes)